---
import { portfolioData } from "../data/portfolio";
---

<section
    class="bg-zinc-900 flex items-center justify-center overflow-visible relative hero"
>
    <div
        class="circle"
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
    >
        <div
            class="circle1"
            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 600px; height: 600px; border: 25px solid var(--primary-color); border-radius: 50%; animation: pulse3 5s linear infinite;"
        >
        </div>
        <div
            class="circle2"
            style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 500px; height: 500px; border: 20px solid black; border-radius: 50%; animation: pulse 2s linear infinite;"
        >
        </div>
    </div>

    <div
        class="container mx-auto max-w-5xl flex flex-col md:flex-row gap-20 items-center z-10 justify-center"
        style="position: relative; padding: 140px 30px 100px 30px;"
    >
        <!-- Left side: Text -->
        <div class="text-white w-full md:w-auto">
            <h1
                class="text-xl font-bold italic mb-6 drop-shadow-lg"
                style="font-family: 'Varela Round', sans-serif; font-size: 21px;"
            >
                Hey there!
                <br />
                I'm
                <span class="typed-text text-3xl"> Apostolis. </span>
            </h1>
            <p
                class="text-lg font-bold italic leading-relaxed drop-shadow-lg"
                style="font-family: 'Varela Round', sans-serif; font-size: 18px; line-height: 30px;"
            >
                {portfolioData.tagline}
            </p>
        </div>

        <!-- Right side: Image -->
        <div class="flex justify-center shrink-0">
            <img
                src="/images/me.jpeg"
                alt="Apostolis Eleftheriou"
                class="rounded-3xl shadow-2xl hero-image"
                loading="lazy"
            />
        </div>
    </div>
</section>

<style>
    @keyframes pulse {
        0% {
            width: 500px;
            height: 500px;
        }
        50% {
            width: 550px;
            height: 550px;
        }
        100% {
            width: 500px;
            height: 500px;
        }
    }

    @keyframes pulse3 {
        0% {
            width: 600px;
            height: 600px;
        }
        50% {
            width: 650px;
            height: 650px;
        }
        100% {
            width: 600px;
            height: 600px;
        }
    }
</style>

<script>
    const typedElement = document.querySelector(".typed-text");
    if (typedElement) {
        const phrases = ["Apostolis.", "a Frontend Engineer."];
        let phraseIndex = 0;
        let charIndex = 0;
        let isDeleting = false;

        function type() {
            const currentPhrase = phrases[phraseIndex];
            const typedChar = isDeleting
                ? currentPhrase.substring(0, charIndex - 1)
                : currentPhrase.substring(0, charIndex + 1);

            typedElement.textContent = typedChar;

            if (!isDeleting && charIndex === currentPhrase.length) {
                isDeleting = true;
                setTimeout(type, 1500);
                return;
            }

            if (isDeleting && charIndex === 0) {
                isDeleting = false;
                phraseIndex = (phraseIndex + 1) % phrases.length;
            }

            if (isDeleting) {
                charIndex--;
            } else {
                charIndex++;
            }

            setTimeout(type, isDeleting ? 30 : 50);
        }

        type();
    }
</script>

<style>
    @keyframes pulse {
        0% {
            width: 400px;
            height: 400px;
        }

        50% {
            width: 450px;
            height: 450px;
        }

        100% {
            width: 400px;
            height: 400px;
        }
    }

    /* @media (max-width: 768px) {
        div[style*="animation: pulse"] {
            width: 300px !important;
            height: 300px !important;
        }
    } */
</style>
